[tox]
envlist = py27, py36, py37, flake8, black
toxworkdir = {env:TOX_WORK_DIR:.tox}

[testenv]
sitepackages = False
setenv =
    MPLBACKEND = Agg
deps =
    -rtests/requirements.txt
    pytest
commands = {posargs:py.test -v --ignore=it}

[testenv:flake8]
skip_install = True
deps =
    flake8
commands =
    flake8 lens tests

[testenv:black]
skip_install = True
deps =
    black
commands =
    black --check setup.py lens tests
